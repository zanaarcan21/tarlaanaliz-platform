# =============================================================================
# .env.example â€” Cevre degiskenleri sablonu (12-Factor App)
# Gercek degerler ASLA bu dosyada bulunmaz; sadece placeholder icerir.
# =============================================================================

# --- Uygulama Genel ---
APP_ENV=dev                           # dev | staging | prod
APP_DEBUG=true                        # Prod'da false olmali
APP_VERSION=3.2.2
APP_LOG_LEVEL=INFO                    # DEBUG | INFO | WARNING | ERROR
APP_SECRET_KEY=change-me-in-prod      # JWT imzalama ve sifreleme icin

# --- Veritabani (PostgreSQL) ---
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tarlaanaliz
DB_USER=tarlaanaliz_user
DB_PASSWORD=change-me-in-prod
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# --- RabbitMQ ---
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=tarlaanaliz
RABBITMQ_PASSWORD=change-me-in-prod
RABBITMQ_VHOST=/tarlaanaliz
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}${RABBITMQ_VHOST}

# --- JWT / Auth [KR-050] ---
JWT_SECRET_KEY=change-me-in-prod
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# --- Rate Limiting [KR-050, SC-SEC-01] ---
RATE_LIMIT_AUTH_PER_MINUTE=60
RATE_LIMIT_LOCKOUT_THRESHOLD=15
RATE_LIMIT_LOCKOUT_DURATION_MINUTES=30

# --- Object Storage (S3 / MinIO) ---
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_ACCESS_KEY=change-me-in-prod
STORAGE_SECRET_KEY=change-me-in-prod
STORAGE_BUCKET_INGEST=tarlaanaliz-ingest
STORAGE_BUCKET_RESULTS=tarlaanaliz-results
STORAGE_BUCKET_RECEIPTS=tarlaanaliz-receipts

# --- SMS Gateway [KR-019] ---
SMS_PROVIDER=netgsm                   # netgsm | twilio
SMS_API_KEY=change-me-in-prod
SMS_API_SECRET=change-me-in-prod
SMS_SENDER_ID=TarlaAnaliz

# --- Payment Gateway [KR-033] ---
PAYMENT_PROVIDER=iyzico               # iyzico | paytr
PAYMENT_API_KEY=change-me-in-prod
PAYMENT_API_SECRET=change-me-in-prod
PAYMENT_WEBHOOK_SECRET=change-me-in-prod
PAYMENT_IBAN_EXPIRE_DAYS=7

# --- TKGM / MEGSIS WFS [KR-016] ---
TKGM_WFS_URL=https://cbs.tkgm.gov.tr/megsiswebapi.v3
TKGM_WFS_TIMEOUT_SECONDS=30

# --- AI Worker [KR-017, KR-070] ---
AI_WORKER_QUEUE=ai.analysis.jobs
AI_FEEDBACK_QUEUE=ai.feedback.v1
AI_RESULT_QUEUE=ai.results.v1

# --- Calibration [KR-018/KR-082] ---
CALIBRATION_REQUIRED=true             # Hard gate: kalibrasyonsuz analiz yok

# --- Expert Portal [KR-019] ---
EXPERT_CONFIDENCE_THRESHOLD=0.75
EXPERT_SLA_TIMEOUT_HOURS=4

# --- CORS ---
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# --- Sentry (Error Tracking) ---
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# --- Frontend (web/) ---
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_SENTRY_DSN=
